(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-268ff0d6"],{"21e9":function(t,e,a){"use strict";a("6e48")},"6e48":function(t,e,a){},"7b06":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panelPage train-project-details-wrapper"},[a("div",{staticClass:"planEdit planEdit1",style:"max-height:"+t.pageHeight+"px"},[a("el-form",{ref:"classDetailForm",attrs:{model:t.detailObj,"label-width":"150px"}},[a("el-collapse",{staticClass:"flex-main",model:{value:t.tabsShow,callback:function(e){t.tabsShow=e},expression:"tabsShow"}},[t.user.orgType>80&&t.user.orgType<83?a("el-collapse-item",{attrs:{name:"tabOrg",id:"tabOrg"}},[a("template",{slot:"title"},[a("div",{staticClass:"titleDiv"},[t._v("培训单位")])]),a("div",{staticClass:"contentDiv"},[a("el-form-item",{attrs:{label:"名称"}},[a("div",[t._v(t._s((t.detailObj.orgId||{}).name)+" "),2==(t.detailObj.orgId||{}).status?a("el-tag",{staticStyle:{cursor:"pointer"},attrs:{type:"warning"}},[t._v("待审核")]):t._e(),1==(t.detailObj.orgId||{}).status?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v("未通过")]):t._e(),3==(t.detailObj.orgId||{}).status?a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v("已通过")]):t._e()],1)]),a("el-form-item",{attrs:{label:"地址"}},[a("div",[t._v(t._s(((t.detailObj.orgId||{}).linkInfo||{}).addr||""))])]),a("el-form-item",{attrs:{label:"附件"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},t._l((t.detailObj.orgId||{}).enclosureArr||[],(function(e,i){return a("div",{key:"enclo"+i,staticStyle:{padding:"10px"}},["img"==e.type?a("div",[a("div",{staticStyle:{"text-align":"center",widhth:"183px",height:"40px"},attrs:{title:t.toFileTxt(e.name)}},[a("p",{staticClass:"txtOverflow"},[t._v(t._s(t.toFileTxt(e.name)))])]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("span",{staticClass:"image-container flex",staticStyle:{width:"183px"}},[a("el-image",{staticStyle:{width:"183px",height:"220px"},attrs:{src:e.file,"preview-src-list":[e.file],fit:t.fit}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"90px",height:"80px"},attrs:{src:t.iconNoImg}}),a("div",{staticStyle:{"font-size":"14px",color:"#c0c4cc","line-height":"20px","text-align":"center"}},[a("p",[t._v("点击图片查看大图")])])])])])],1)])]):t._e(),"file"==e.type?a("div",[a("div",{staticStyle:{"text-align":"center",widhth:"183px",height:"40px"},attrs:{title:t.toFileTxt(e.name)}},[a("p",{staticClass:"txtOverflow"},[t._v(t._s(t.toFileTxt(e.name)))])]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("a",{staticClass:"el-button el-button--warning el-button--small is-plain",staticStyle:{display:"inline-block",padding:"7px 14px","text-decoration":"none"},attrs:{target:"newPage",href:e.file}},[t._v("下载")])])]):t._e()])})),0)])],1)],2):t._e(),a("el-collapse-item",{attrs:{name:"tab1",id:"tab1"}},[a("template",{slot:"title"},[a("div",{staticClass:"titleDiv"},[t._v("培训方案"),!t.detailObj.isMakeUp&&!t.isMakeUp||t.isArchive?t._e():a("el-tag",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",size:"small"}},[t._v("补录申报")])],1)]),a("div",{staticClass:"contentDiv"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训方案类型"}},[a("div",{staticClass:"trainType_switch"},[a("div",[t._v(t._s(1==t.detailObj.personType?"建档立卡免费培训":"项目制培训"))])])])],1),9==t.detailObj.personType?[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训类型",prop:"kind"}},[a("div",[t._v(t._s(t.detailObj.kind))])])],1)]:t._e()],2),a("el-form-item",{attrs:{label:"培训方案名称",prop:"name"}},[a("div",[t._v(t._s(t.detailObj.name))])]),a("el-row",{attrs:{gutter:22}},["创业培训"!=t.detailObj.kind?[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训工种",prop:"professionName"}},[a("div",[a("span",[t._v(t._s(t.detailObj.professionName)),t.isLack?a("span",{staticClass:"c-orange"},[t._v("（紧缺工种）")]):t._e()])])])],1)]:t._e(),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训年度"}},[a("div",{staticStyle:{color:"#606266"}},[t._v(t._s(t.detailObj.year))])])],1)],2),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训时间",prop:"startTime"}},[a("div",[t._v(t._s(t.dateFormat(t.detailObj.startTime))+" 至 "+t._s(t.dateFormat(t.detailObj.endTime)))])])],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训总课时",prop:"times"}},[a("div",[t._v(t._s(t.detailObj.times))])])],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"培训人数",prop:"studentCount"}},[a("div",[t._v(t._s(t.detailObj.studentCount))])])],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"可享受补贴金额"}},[a("div",[t._v(" "+t._s(t.preAmount)+" 元/人")])])],1)],1),"面网混合培训"==t.detailObj.trainingMode?[a("el-form-item",{attrs:{label:"培训平台",prop:"trainingWeb"}},[a("div",{staticClass:"c-blue"},[a("a",{staticStyle:{"text-decoration":"none",padding:"0px",color:"#409EFF"},attrs:{href:t.detailObj.trainingWeb.substring(t.detailObj.trainingWeb.indexOf("(")+1,t.detailObj.trainingWeb.indexOf(")")),target:"_blank"}},[t._v(t._s(t.detailObj.trainingWeb))])])])]:t._e(),a("el-form-item",{attrs:{label:"相关说明"}},[a("div",[t._v(t._s(t.detailObj.remark||"-"))])])],2)],2),a("el-collapse-item",{attrs:{name:"tab2",id:"tab2"}},[a("template",{slot:"title"},[a("div",{staticClass:"titleDiv"},[t._v("教学计划")])]),a("div",{staticClass:"contentDiv"},[a("div",{staticStyle:{padding:"0 20px 15px","font-weight":"bold"}},[t._v("课程信息")]),a("el-table",{attrs:{data:t.courses}},[a("el-table-column",{attrs:{type:"index",label:"No."}}),a("el-table-column",{attrs:{label:"培训课程",prop:"name"}}),a("el-table-column",{attrs:{label:"课时",prop:"times",width:"80px"}}),a("el-table-column",{attrs:{label:"授课方式",prop:"teachType",width:"90px"}}),a("el-table-column",{attrs:{label:"类型",prop:"typeName",width:"80px"}}),a("el-table-column",{attrs:{label:"授课教师",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return["网授课程"==e.row.teachType?a("span",[t._v(t._s(e.row.teacherName))]):a("span",{staticClass:"c-blue teacher-name",staticStyle:{"margin-right":"20px"},on:{click:function(a){return t.handleEdit(e.$index,e.row,10)}}},[t._v(t._s(e.row.teacherId&&e.row.teacherId.name?e.row.teacherId.name:e.row.teacherName))])]}}])}),"面授培训"==t.detailObj.trainingMode||"面网混合培训"==t.detailObj.trainingMode?[a("el-table-column",{attrs:{label:"授课时间",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return["网授课程"!=e.row.teachType?[t._v(" "+t._s(t.dateFormat(e.row.startTime,3))+" 至 "+t._s(t.dateFormat(e.row.endTime,2))+" ")]:[t._v(" - ")]]}}],null,!1,926034047)})]:t._e(),"网授培训"==t.detailObj.trainingMode||"面网混合培训"==t.detailObj.trainingMode?[a("el-table-column",{attrs:{label:"课程时长",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return["网授课程"==e.row.teachType?[t._v(" "+t._s(e.row.courseMinute)+" 分钟 ")]:[t._v(" - ")]]}}],null,!1,904769305)})]:t._e(),a("el-table-column",{attrs:{label:"授课地点/授课网址",prop:"addr",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return["网授课程"==e.row.teachType?a("a",{staticStyle:{padding:"0px"},attrs:{href:"http://"+e.row.addr,target:"_blank"}},[a("span",{staticClass:"c-blue"},[t._v(t._s(e.row.addr))])]):a("span",[t._v(t._s(e.row.addr||"-"))])]}}])}),a("el-table-column",{attrs:{label:"使用教材",prop:"books"},scopedSlots:t._u([{key:"default",fn:function(e){return["网授课程"!=e.row.teachType?a("span",{staticClass:"c-blue hc-p",on:{click:function(a){t.handleEdit(0,(e.row.bookIds||[])[0],12)}}},[t._v(t._s(((e.row.bookIds||[])[0]||{}).name||e.row.books))]):a("span",[t._v(t._s(e.row.books||"-"))])]}}])})],2)],1)],2),t.detailObj.fund&&t.detailObj.status&&1!=t.detailObj.status&&6!=t.detailObj.status&&3!=t.detailObj.type?a("el-collapse-item",{attrs:{name:"tab3",id:"tab3"}},[a("template",{slot:"title"},[a("div",{staticClass:"titleDiv"},[t._v("资金来源")])]),a("div",{staticClass:"contentDiv"},[a("el-form",{attrs:{"label-width":"120px",model:t.detailObj}},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"资金来源",prop:"fund"}},[a("div",[t._v(t._s(t.detailObj.fund))])])],1)],1)],1)],1)],2):t._e(),t.detailObj.audit?a("el-collapse-item",{attrs:{name:"tabAudit",id:"tabAudit"}},[a("template",{slot:"title"},[a("div",{staticClass:"titleDiv"},[t._v("审核记录")])]),a("div",{staticClass:"contentDiv"},[a("el-table",{attrs:{data:t.detailObj.audit}},[a("el-table-column",{attrs:{label:"审核日期",sortable:"",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dateFormat(e.row.time,"yyyy-MM-dd"))+" ")]}}],null,!1,3775792434)}),a("el-table-column",{attrs:{label:"审核结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.auditStatus?a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v("通过")]):t._e(),2==e.row.auditStatus?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v("驳回")]):t._e(),3==e.row.auditStatus?a("el-tag",{attrs:{size:"mini",type:"primary"}},[t._v("转人社主管")]):t._e(),4==e.row.auditStatus?a("el-tag",{attrs:{size:"mini",type:"primary"}},[t._v("转行业主管")]):t._e(),5==e.row.auditStatus?a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v("转为补录方案")]):t._e()]}}],null,!1,3791031796)}),a("el-table-column",{attrs:{label:"审核意见/说明",prop:"remark"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.remark||"-")+" ")]}}],null,!1,1929284178)}),a("el-table-column",{attrs:{label:"审核单位",prop:"orgName"}}),a("el-table-column",{attrs:{label:"审核人",prop:"userName"}})],1)],1)],2):t._e()],1)],1)],1),t.previewLog?a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.previewLog,id:"prjAdmin","append-to-body":"",title:"资料预览"},on:{"update:visible":function(e){t.previewLog=e}}},[a("div",{staticClass:"fw-b",staticStyle:{"font-size":"16px","text-align":"center","padding-bottom":"40px"}},[t._v(t._s(t.previewObj.name))]),a("div",{staticStyle:{display:"flex","justify-content":"center","align-item":"center"}},[a("el-image",{staticStyle:{width:"300px",height:"400px"},attrs:{src:t.previewObj.src,"preview-src-list":[t.previewObj.src],fit:t.fit}})],1),a("div",{staticStyle:{"text-align":"center",padding:"10px"}},[t._v("点击图片查看大图（右键图片另存为）")])]):t._e()],1)},s=[],r=a("53ca"),o=(a("e9c4"),a("d81d"),a("b0c0"),a("ac1f"),a("1276"),a("d3b7"),a("159b"),a("a9e3"),a("eaa9")),l=a.n(o),n=a("b893"),c={data:function(){return{iconNoImg:l.a,objectId:"",curType:"",year:(new Date).getFullYear(),teachersList:[],upFileType:"word",showFileUp:!1,editStatus:!0,detailObj:{placeInfo:{},pupilObj:{},orgId:{}},user:{},auditObj:{status:1,remark:"",executiveOrgId:""},canApplyEdit:!1,parentName:"",showAuditDlg:!1,tabsShow:["tab1","tabSchool","tabOrg","tab2","tab3","tab5","tab6","tabCheck","tabPartner","tabPrint","tabAudit"],activeTab:"#tab1",courses:[],chooseMap:!1,courseEditDlg:!1,courseEdit:!1,hasCourse:!1,courseForm:{},courseIndex:null,timeType:[],courseType:[{value:"理论",label:"理论"},{value:"实操",label:"实操"}],courseTeachType:[{value:"网授课程",label:"网授课程"},{value:"面授课程",label:"面授课程"}],fundType:[],professionList:[],query:"",selDlg:!1,selForm:{type:"",id:""},subsidyResource:[{name:"《企业新型学徒制申报表》（Word格式）",isRequest:!0,fileName:"",type:"word",file:""},{name:"《培训教学计划内容》（PDF、扫描件图片）",isRequest:!0,fileName:"",type:"",file:""},{name:"《企业与机构签订的合作协议》（PDF、扫描件图片）",isRequest:!0,fileName:"",type:"",file:""}],showImgUploadDlg:!1,previewObj:{},previewLog:!1,fit:"cover",partnerList:[],companyList:[],teacherObj:{certificate:{},contract:{},createUserId:{}},showTeacherObj:!1,showTxt:!0,previewVideoLog:!1,videos:[],videoDlg:!1,vDlgTitle:"",courseLogTitle:"",selBooks:[],bookObjArr:[],bookObj:{},showBookObj:!1,addTeacher:!1,addBook:!1,professionGroup:[],reportFull:!1,printName:"",orgDetail:{},selTitle:"",checkTeacherTime:{},isDay2:!1,reportName:"",limitStart:0,limitDate:0,limitTimes:0,setStrat:!0,setTrainTimes:!0,setApplyRemark:"",showApplyRemark:!0,pxWeb:[],pxwebForm:{},showPxWebDlg:!1,rulePxWeb:{name:[{required:!0,message:"请输入平台名称",trigger:"blur"}],url:[{required:!0,message:"请输入平台网址",trigger:"blur"}]},isLack:!1,isInternetTrain:!1,hasInternet:!1,oldClassType:1,aduitOrgDlg:!1,aduitOrgArr:[],classPostData:{},changeTypeOld:!1,hasIndustry:!1,industryList:[],executiveOrgId:"",changeAduitOrg:!1,orgParent:{},areaArr:[],showCourseAlert:!0,applyErrorDlg:!1,applyErrorReamrk:"",checkOrgRule:{areaCode:[{required:!0,message:"请选择审核人社部门",trigger:"blur"}]},preAmount:0,courseEdit_startTime:!1,courseTimeMapEdit:!1,isArchive:!1,courseEdit_map:!1}},created:function(){this.user=JSON.parse(localStorage.getItem("loginUser")),this.getDefaultYear(),this.getTRCodeList(),this.getOrgParent(),this.objectId=this.$route.query.id,this.curType=this.$route.query.type,this.loadClassDetail(this.objectId,this.curType),this.fundType=[{value:"提升行动资金",label:"提升行动资金"},{value:"就业补助资金",label:"就业补助资金"},{value:"其他资金",label:"其他资金"}]},methods:{teachTypeChange:function(t){"网授课程"==t&&(this.courseForm.typeName="理论")},getTrainWeb:function(t){var e=this;this.$http.get({url:"/getOrgSubsidyFloat",params:{id:this.user.orgId}}).then((function(t){e.loading=!1,t.status&&(e.pxWeb=t.data.nowOrg.webList)})).catch((function(){e.loading=!1}))},changeTrainingMode:function(){var t=JSON.parse(JSON.stringify(this.detailObj));this.isArchive?(t.trainingMode="面网混合培训",t["trainingWeb"]="",t["personType"]=1,this.getTrainWeb()):(t.trainingMode="面授培训",t.trainingWeb="",t["personType"]=9),this.detailObj=t},handleTrainKind:function(t){"创业培训"==t&&(this.detailObj["professionName"]="")},changeCourseTimeMapEdit:function(t){if(1==t){this.courseTimeMapEdit=!0,this.courseEdit_startTime=!1,this.courseForm["timeScope"]=new Date(this.courseForm.endTime).getTime()-new Date(this.courseForm.startTime).getTime();var e=(new Date).getTime(),a=new Date((this.courseForm||{}).startTime).getTime();console.log("startTime",a),console.log("tartTime - nowDate",a-e),a&&a-e>=144e5&&(this.courseEdit_startTime=!0)}else this.courseTimeMapEdit=!1},toMathCourseEndTime:function(){this.courseForm.endTime=new Date(this.courseForm.beginTime).getTime()+this.courseForm["timeScope"]},checkCourseEdit:function(t){this.courseEdit=!1,this.courseEdit_map=!1;var e=(new Date).getTime(),a=new Date((t||{}).startTime).getTime();a&&a>e&&(this.courseEdit_map=!0),this.detailObj.objectId&&-1==[0,3,5,6,8].indexOf(this.detailObj.status)||(this.courseEdit=!0)},mathPreAmount:function(){var t=this.detailObj.times,e=this.detailObj.kind,a=0,i=0,s={"就业技能培训":1e3,"创业培训":1200};a=25*t,i=s[e],this.preAmount=a>i?i:a},changeApplyAreaCode:function(){var t=this.detailObj;t["executiveOrgId"]="",this.detailObj=t,this.getIndustryList()},getIndustryList:function(){var t=this;this.$http.get({url:"/orgList",params:{keyword:this.keyword,orgType:78,page:1,pageSize:100,keyAreaCode:this.detailObj.areaCode}}).then((function(e){e.status&&(t.industryList=e.data.data)}))},getAreaList:function(){var t=this;this.$http.get({url:"/areaList",params:{}}).then((function(e){if(e.status){var a="",i=[];i.push({name:t.user.orgAreaName+"人社局",code:t.user.orgAreaCode}),a=(t.user.orgAreaCode+"").substring(0,4)+"00",e.data.map((function(t){t.pCode==a&&i.push({name:t.name+"人社局",code:t.code})})),t.areaArr=i}}))},handleEdit:function(t,e,a,i){var s=this;switch(a){case 1:this.courseLogTitle="课程详情",this.courseEditDlg=!0,this.checkCourseEdit(e),this.teacherObj=e.teacherInfo||e.teacherId||{},this.bookObjArr=[],this.bookObj={};var o=JSON.parse(JSON.stringify(e));o.teachType||(o.teachType="面授课程"),e.teacherId=e.teacherId||"",e.txMap=e.txMap||{},o["id"]=e.objectId,o["beginTime"]=new Date(e.startTime).toISOString(),o["teacherId"]=e.teacherId&&e.teacherId.objectId?e.teacherId.objectId:e.teacherId||"",e.teacherId&&e.teacherId.objectId&&(o["teacherInfo"]=e.teacherId,o["teacherName"]=e.teacherId.name),o["lat"]=e.txMap.latitude||e.lat,o["lng"]=e.txMap.longitude||e.lng,o["books"]&&o["books"]instanceof Array?this.selBooks=o["books"].split(","):this.selBooks=o["books"],this.$refs["courseDetailForm"]&&this.$refs["courseDetailForm"].resetFields(),this.courseForm=o,this.hasCourse=!0,this.courseIndex=t;break;case 10:if(this.teacherObj=e.teacherInfo||e.teacherId||"",!this.teacherObj)return void this.$message({message:"该教师无法获取相关信息",type:"error"});this.showTeacherObj=!0;break;case 12:if("object"==Object(r["a"])(e))this.bookObj=e,this.showBookObj=!0;else{var l=e;this.$http.get({url:"/bookDetail",params:{id:l}}).then((function(t){t.status&&(s.bookObj=t.data,s.showBookObj=!0)}))}break}},getTRCodeList:function(){var t=this;this.$http.get({url:"/orgDetail",params:{id:this.user.orgId}}).then((function(e){if(e.status){var a=e.data;t.bookObj=a,t.showBookObj=!0,t.orgDetail=a||{},console.log("当前机构详情",t.orgDetail),t.professionList=a.jobs||[];var i=[],s=[];t.professionList.forEach((function(t){1==t.type?i.push(t):s.push(t)})),t.professionList=[{label:"国家职业工种",options:i},{label:"本企业工种",options:s}]}}))},getOrgParent:function(){var t=this;this.$http.get({url:"/getOrgParent",params:{}}).then((function(e){if(e.status){var a=e.data||{};t.orgParent={name:a.name,objectId:a.id},t.parentName=a.name||""}}))},getDefaultDetail:function(){var t={placeInfo:{},startTime:new Date(new Date(this.dateFormat(new Date,"yyyy-MM-dd")).getTime()),pupilObj:{},kind:"就业技能培训",trainingMode:"面授培训",executiveOrgId:"",professionName:"",personType:-1!=this.user.orgScopes.indexOf("项目制培训")?9:1};return console.log("初始化",t),t},loadClassDetail:function(t,e){var a=this;this.classId||this.detailObj.objectId||t?this.$http.get({url:"/classDetail",params:{id:t||this.classId||this.detailObj.objectId}}).then((function(t){if(t.status){var e=t.data;1==e.personType&&(a.auditObj["fund"]="提升行动资金",a.isArchive=!0,a.changeTrainingMode()),a.checkDay2(e.startTime),e.placeInfo=e.placeInfo||{},e["executiveOrgId"]=e.executiveOrgId||"",-1!=[0,3,6,8].indexOf(e.status)&&a.user.orgType<78?a.editStatus=!0:(a.editStatus=!1,a.getIsLack(e.professionName));var i=e.orgId.objectId,s=a.user.orgId;s!=i&&(a.editStatus=!1),a.detailObj=e,a.mathPreAmount();var r=e.orgId;r.parentName&&(a.parentName=r.parentName);var o=(new Date).getTime(),l=new Date(a.detailObj.startTime).getTime();a.canApplyEdit=!(l-o<2592e5),a.loadCourseList()}})):this.detailObj=this.getDefaultDetail()},loadCourseList:function(){var t=this,e=this.classId||this.detailObj.objectId||this.detailObj.id;e&&this.$http.get({url:"/courseList",params:{id:this.user.orgId,page:1,pageSize:1e3,classId:e}}).then((function(e){if(e.status){t.courses=e.data.data||[];var a=0;t.courses.forEach((function(t){a+=t.times})),t.detailObj.times=a,t.checkTeachersList(),t.mathCourseTimes()}}))},checkTeachersList:function(){var t=[],e=[],a=this.courses;a.forEach((function(a){if(a){var i=a.teacherInfo||a.teacherId||{},s=i.id||i.objectId||"";-1==e.indexOf(s)&&s&&(e.push(s),t.push(i))}})),this.teachersList=t},previewFile:function(t){var e=this.subsidyResource[t]["name"],a=this.subsidyResource[t]["file"];this.previewLog=!0,this.previewObj={name:e,src:a}},toFileTxt:function(t){return"《企业营业执照或民办非企业法人登记证书》"==t?"营业执照":-1!=t.indexOf("（")?t.substring(0,t.indexOf("（")):t},mathCourseTimes:function(){var t=this.courses,e=0;t.forEach((function(t){e+=t.times})),this.detailObj.times=e,this.mathPreAmount()},getIsLack:function(t){var e=this;t&&this.$http.get({url:"/jobList",params:{isLack:1,isListPage:1,keyword:t,page:1,pageSize:20}}).then((function(t){t.data.count&&(e.isLack=!0)}))},getDefaultYear:function(){this.year=(new Date).getFullYear();var t=this.year+1;this.timeType=[{value:this.year+"",label:this.year+""},{value:t+"",label:t+""}]},checkDay2:function(t){this.isDay2=!1;var e=new Date(t).getTime();e-(new Date).getTime()<=1728e5&&(this.isDay2=!0)},dateFormat:function(t,e){return n["a"].dateFormat(t,e)}},props:{pageHeight:Number,classId:String,classType:Number,refreshData:Function,navBack:Function,updateDetailObj:Function,auditSel:Function,allowanceOrgId:Object,toApply:Function,isMakeUp:Boolean}},d=c,u=(a("21e9"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,null,null);e["default"]=p.exports},b893:function(t,e,a){"use strict";a("b680"),a("ac1f"),a("5319"),a("fb6a"),a("d3b7"),a("25f0"),a("1276"),a("a15b"),a("466d"),a("ace4"),a("5cc6"),a("acef"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861");var i={formatMoney:function(t,e){e=e||{},t=t||0;var a=e.places||2;a=isNaN(a=Math.abs(a))?2:a;var i=e.symbol;i=void 0!==i?i:"￥";var s=e.thousand||",",r=e.decimal||".",o=t<0?"-":"",l=parseInt(t=Math.abs(+t||0).toFixed(a),10)+"",n=(n=l.length)>3?n%3:0,c=i+o+(n?l.substr(0,n)+s:"")+l.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?r+Math.abs(t-l).toFixed(a).slice(2):"");return e.fixedAll||(-1!=c.indexOf(".")&&(c=c.replace(/0+$/g,"")),c.indexOf(".")==c.length-1&&(c=c.replace(/\./g,""))),c},dateFormat:function(t,e){if(!t)return"-";e||(e="yyyy-MM-dd"),2==e&&(e="hh:mm"),3==e&&(e="yyyy-MM-dd hh:mm"),4==e&&(e="yyyy-MM"),5==e&&(e="yyyy 年 MM 月 dd 日"),6==e&&(e="yyyy 年 MM 月"),t=new Date(t);var a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),r=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return i=i<10?"0"+i:i,s=s<10?"0"+s:s,r=r<10?"0"+r:r,o=o<10?"0"+o:o,l=l<10?"0"+l:l,e=e.replace("yyyy",a),e=e.replace("MM",i),e=e.replace("dd",s),e=e.replace("hh",r),e=e.replace("mm",o),e=e.replace("ss",l),e},clearFloat:function(t){var e=!0,a=t.toString(),i=a.split("."),s=this.formatNumber(i[0]);return e?s:s+"."+i[1]},formatNumber:function(t){var e=parseInt(t).toString(),a=e.length;if(a<=3)return e;var i=a%3;return i>0?e.slice(0,i)+","+e.slice(i,a).match(/\d{3}/g).join(","):e.slice(i,a).match(/\d{3}/g).join(",")},px2rem:function(t){var e=750,a=10;return t/e*a+"rem"},diffType:function(t){return Object.prototype.toString.call(t).split(" ")[1].slice(0,-1)},fileImgs2Base64:function(t){return new Promise((function(e){var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onloadend=function(){var t=a.result;e(t)}}))},getBase64Image:function(t){return new Promise((function(e){var a=new Image;a.src=t+"?v="+Math.random(),a.crossOrigin="*",a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height;var i=t.getContext("2d");i.drawImage(a,0,0,a.width,a.height);var s=t.toDataURL("image/png");e(s)}}))},base64ToBlob:function(t){return new Promise((function(e){var a=t.split(","),i=a[0].match(/:(.*?);/)[1],s=atob(a[1]),r=s.length,o=new Uint8Array(r);while(r--)o[r]=s.charCodeAt(r);e(new Blob([o],{type:i}))}))},downloadImg:function(t,e){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height;var i=t.getContext("2d");i.drawImage(a,0,0,a.width,a.height);var s=t.toDataURL("image/png"),r=document.createElement("a"),o=new MouseEvent("click");r.download=e+".png"||!1,r.href=s,r.dispatchEvent(o)},a.src=t},downPager:function(t,e){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="blob",a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=this.response;console.log(t);var i=document.createElement("a");i.download=e||(new Date).getTime()+".pdf",i.href=URL.createObjectURL(t),document.body.appendChild(i),i.click()}},a.send()}};e["a"]=i},eaa9:function(t,e,a){t.exports=a.p+"static/img/icon-no-img.43f1b176.png"}}]);